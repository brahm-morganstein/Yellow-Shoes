function setProductBlockPromoMessage(){let o=theme.locale;$(".product-block").each((function(e,t){let s=!0;$(this).parents().each((function(o,e){$(e).attr("class")&&$(e).attr("class").includes("section-shop-the-look")&&(s=!1)}));let c=$(this).data("tags")?.toLowerCase();c&&app_settings.promo_messages.forEach((function(e){e.tags.toLowerCase().split(",").forEach((function(s){if(e.enabled&&c.includes(s.trim())){console.log("tags",c),console.log("promo_tag",s.trim());let n="en"==o?e.message:e.message_fr,r=`<div class="_promo" style="color:${e.fg_color};">${n}</div>`;0==$(t).find(".product-block__detail").find(".product-link").first().find("._promo").length&&$(t).find(".product-block__detail").find(".product-link").first().append(r)}}))}))}))}function setProductPromoMessage(){let o=theme.locale,e=$("product-form").data("tags").toLowerCase(),t=[];app_settings.promo_messages.forEach((function(s){s.tags.toLowerCase().split(",").forEach((function(c){if(s.enabled&&e.includes(c.trim())&&!t.includes(s.id)){t.push(s.id);let e="en"==o?s.message:s.message_fr,c=`<div style="color:${s.fg_color};">${e}</div>`;$("product-form").find(".price-container").first().after(c)}}))}))}$(document).ready((function(){setProductBlockPromoMessage(),window.location.href.includes("/products/")&&(setProductPromoMessage(),setTimeout((function(){setProductBlockPromoMessage()}),1e3)),document.addEventListener("onurlchanged",(function(){setProductBlockPromoMessage()}))}));