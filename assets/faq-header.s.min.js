function debounce(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>e.apply(this,i)),t)}}if(!customElements.get("faq-header")){const e=class extends HTMLElement{connectedCallback(){this.classNames={questionContainerInactive:"faq-search-item-inactive",sectionWithIndexStatus:"section-faq-header--with-index"},this.searchInput=this.querySelector(".faq-search__input"),this.searchInput&&(this.searchInput.addEventListener("change",this.performSearch.bind(this)),this.searchInput.addEventListener("keyup",this.performSearch.bind(this)),this.searchInput.addEventListener("paste",this.performSearch.bind(this))),this.debouncedBuildIndex=debounce(this.buildIndex.bind(this),50),document.addEventListener("theme:faq-header-update",this.debouncedBuildIndex),this.debouncedBuildIndex(),this.querySelector(".faq-index")&&(this.addEventListener("click",e.handleIndexClick.bind(this)),this.closest(".section-faq-header").classList.add(this.classNames.sectionWithIndexStatus),this.resizeIndex.call(this),this.debouncedResizeIndex=debounce(this.resizeIndex.bind(this),250),window.addEventListener("resize",this.debouncedResizeIndex))}disconnectedCallback(){document.removeEventListener("theme:faq-header-update",this.debouncedBuildIndex),window.removeEventListener("resize",this.debouncedResizeIndex)}buildIndex(){const e=this.closest(".section-faq-header"),t=this.querySelector(".faq-index__item-container");t&&t.querySelectorAll(".faq-index-item").forEach((e=>{e.parentNode.removeChild(e)})),this.linkedCollapsibleTabs=[],this.linkedQuestionContainers=[],this.linkedContent=[];let n=e;for(;n.nextElementSibling&&n.nextElementSibling.classList.contains("section-collapsible-tabs");)if(n=n.nextElementSibling,this.linkedCollapsibleTabs.push(n),n.querySelectorAll(".collapsible-tabs__tab").forEach((e=>this.linkedQuestionContainers.push(e))),n.querySelectorAll(".collapsible-tabs__content").forEach((e=>this.linkedContent.push(e))),t){const e=n.querySelector(".collapsible-tabs__heading");if(e){const n='\n              <div class="faq-index-item">\n                <a class="faq-index-item__link"></a>\n              </div>',i=document.createRange().createContextualFragment(n),s=i.querySelector(".faq-index-item__link");s.href=`#${e.id}`,s.innerHTML=e.innerHTML,t.appendChild(i)}}t&&this.resizeIndex.call(this)}resizeIndex(){const e=this.querySelector(".faq-index__sticky-container");let t=this.closest(".section-faq-header");for(;t.nextElementSibling&&t.nextElementSibling.classList.contains("section-collapsible-tabs");)t=t.nextElementSibling;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();e.style.height=i.bottom-n.top+"px"}performSearch(){setTimeout((()=>{const e=this.searchInput.value.split(" "),t=[];e.forEach((e=>{e.length>0&&t.push(e.toLowerCase())})),this.linkedQuestionContainers.forEach((e=>{if(t.length){let n=!1;const i=e.textContent.toLowerCase();t.forEach((e=>{i.indexOf(e)>=0&&(n=!0)})),n?e.classList.remove(this.classNames.questionContainerInactive):e.classList.add(this.classNames.questionContainerInactive)}else e.classList.remove(this.classNames.questionContainerInactive)})),this.linkedContent.forEach((e=>{t.length?e.classList.add(this.classNames.questionContainerInactive):e.classList.remove(this.classNames.questionContainerInactive)}))}),10)}static handleIndexClick(e){if(e.target.classList.contains("faq-index-item__link")){e.preventDefault();const t=e.target.href.split("#")[1];let n=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset-50;const i=getComputedStyle(document.documentElement).getPropertyValue("--theme-sticky-header-height");i&&(n-=parseInt(i,10)),window.scrollTo({top:n,behavior:"smooth"})}}};window.customElements.define("faq-header",e)}