<style>
    .cart-promo-message{
        padding: 10px 20px;
        font-size: 0.85em;
        color: #5cb85c;
        border: 1px solid #5cb85c;
        background: #F9F7F8;
        font-weight: 700;
    }

  /* Tooltip container */
  .shipping-tooltip {
    position: relative;
    display: inline-block;
  }
  
  /* Tooltip text */
  .shipping-tooltip .tooltiptext {
    visibility: hidden;
    width: 240px;
    background-color: black;
    color: #fff;
    text-align: center;
    padding: 5px 0;
    border-radius: 6px;
   
    /* Position the tooltip text - see examples below! */
    position: absolute;
    z-index: 1;
  }
  
  /* Show the tooltip text when you mouse over the tooltip container */
  .shipping-tooltip:hover .tooltiptext {
    visibility: visible;
  }  
</style>
{% assign tier_1_value = section.settings.tier_1_value %}
{% assign is_tier_1_free_shipping = section.settings.tier_1_free_shipping %}
{%- unless template.name == 'cart' or settings.cart_type == 'page' -%}
{%- capture announcement -%}
    {% if section.settings.show_announcement %}
        {%- liquid
            if section.settings.announcement_enable_box
                assign box_color_brightness = section.settings.announcement_box_color | color_brightness
                if box_color_brightness > 128
                    assign box_color_saturation = section.settings.announcement_box_color | color_extract: 'saturation'
                    if box_color_saturation > 0
                        assign text_col = section.settings.announcement_box_color | color_darken: 60 | color_saturate: 30 | color_to_rgb | split: '(' | last | split: ')' | first
                    else
                        assign text_col = section.settings.announcement_box_color | color_darken: 60 | color_to_rgb | split: '(' | last | split: ')' | first
                    endif
                else
                    assign text_col = '255,255,255'
                endif
            endif
        -%}
        <div class="{% if section.settings.announcement_icon != blank or section.settings.announcement_custom_icon != blank %} with-icon{% endif %}{% if section.settings.announcement_enable_box %} text-box text-box--wide{% endif %}" {% if section.settings.announcement_enable_box %}style="--box-color: {{ section.settings.announcement_box_color }}; --box-text-color: {{ text_col }}"{% endif %}>
            {%- if section.settings.announcement_icon == blank and section.settings.announcement_custom_icon == blank -%}
                {{- section.settings.announcement_text -}}
            {%- else -%}
                {% if section.settings.announcement_custom_icon == blank %}
                    {% render 'icon', icon: section.settings.announcement_icon, size: section.settings.announcement_icon_size %}
                {% else %}
                    <span class="icon icon--image icon--{{ section.settings.announcement_icon_size }}">
            {%- liquid
                if section.settings.announcement_icon_size == 'large'
                    assign icon_sizes = '38px'
                    assign icon_widths = '38, 76'
                else
                    assign icon_sizes = '16px'
                    assign icon_widths = '16, 32'
                endif
                render 'image', image: section.settings.announcement_custom_icon, sizes: icon_sizes, widths: icon_widths
            -%}
          </span>
                {% endif %}
                <span class="with-icon__beside">{{ section.settings.announcement_text }}</span>
            {%- endif -%}
        </div>
    {% endif %}
{%- endcapture -%}

<script src="{{ 'cart-drawer.s.min.js' | asset_url }}" defer></script>
{%- if section.settings.show_order_note -%}
    <script src="{{ 'cart-note.s.min.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

<cart-drawer class="drawer fixed top-0 right-0 flex flex-col w-full has-motion js-cart-drawer" role="dialog" tabindex="-1" aria-labelledby="CartDrawerModal-Title" aria-modal="true" aria-hidden="true" data-name="cart-drawer" data-section-id="{{ section.id }}">
    <cart-form data-section-id="{{ section.id }}" class="cart-drawer" data-ajax-update="true">
        <div class="cart-drawer__content{% if cart.items == empty %} cart-drawer__content--hidden{% endif %}" data-merge-attributes="content-container">
            <div class="cart-drawer__content-upper">
                <header class="cart-drawer__header cart-drawer__content-item">
                    <div id="CartDrawerModal-Title" class="cart-drawer__title h4 heading-font" data-merge="header-title">
                        {{ 'cart.general.title' | t }}
                        {% if cart.items != empty %}
                            <span class="cart-drawer__title-count">({{ cart.item_count }})</span>
                        {% endif %}
                    </div>

                    <button type="button" class="drawer__close-btn js-close-drawer">
                        <span class="visually-hidden">{{ 'accessibility.close' | t }}</span>
                        {% render 'icon-close' %}
                    </button>
                </header>

              {% if section.settings.show_progressbar %}
                {% assign number_of_tier = section.settings.progress_bar_nb_tier %}
                {% assign number_of_tier_int = number_of_tier | plus: 0 %}
                {% if number_of_tier_int == 1 %}
                  {%- render 'cart-progress-bar-dynamic-1-tier' cart:cart, section:section -%}
                {% endif %}
                {% if number_of_tier_int == 2 %}
                  {%- render 'cart-progress-bar-dynamic-2-tier' cart:cart, section:section -%}
                {% endif %}                                
                {% if number_of_tier_int == 3 %}
                  {%- render 'cart-progress-bar-dynamic-3-tier' cart:cart, section:section -%}
                {% endif %}
              {% endif %}

                {%- if settings.show_free_shipping_bar -%}
                    <div class="cart-drawer__content-item">
                        {%- render 'free-shipping-bar' -%}
                    </div>
                {%- endif -%}



                {%- if section.settings.announcement_position == 'above-items' -%}
                    <div class="cart-drawer__content-item">
                        <div class="cart-info-block cart-info-block--lmtb">{{- announcement -}}</div>
                    </div>
                {%- endif -%}

                {% assign  one_fifty_promo_totals = cart.line_items_subtotal_price | divided_by: 100 %}
                {% assign one_fifty_promo_totals_style = 'display:none;' %}
                {% if one_fifty_promo_totals >= 150 %}
                    {% assign one_fifty_promo_totals_style = '' %}

                {% endif %}

                <div class="cart-drawer__content-item" id="one_fifty_promo_drawer_message" style="{{ one_fifty_promo_totals_style }}">
                    {% if shop.locale == 'en' %}
                        <div class="cart-info-block cart-info-block--lmtb text-success cart-promo-message">With your purchase of $150, you could win $2,000! Complete your order to enter!</div>
                    {% else %}
                        <div class="cart-info-block cart-info-block--lmtb text-success cart-promo-message">Avec votre achat de 150$, vous pouvez gagner 2000$ ! Finalisez votre commande pour participer !</div>
                    {% endif %}
                </div>

                <script>
                  $(document).ready(function() {
                    let $body = $('body');

                    // setInterval(function() {
                    //   let cart_subtotal = $body.find('.cart-drawer__footer').find('.subtotal').find('.theme-money').text();
                    //   cart_subtotal = cart_subtotal.split('$').join('').split(',').join('.');
                    //   console.log(cart_subtotal);
                    //   if(!isNaN(cart_subtotal) && cart_subtotal >= 150){
                    //     //$body.find('#one_fifty_promo_drawer_message').show();
                    //   }else{
                    //     //$body.find('#one_fifty_promo_drawer_message').hide();
                    //   }
                    // }, 300);
                  });
                </script>

                <div class="cart-item-list cart-drawer__content-item">
                    <div class="cart-item-list__body" data-merge-list="cart-items">
                        {% for item in cart.items %}
                            <div data-merge-list-item="item-key:{{ item.key }}|{{ item.final_price }}{% for discount_allocation in item.line_level_discount_allocations %}|{{ discount_allocation.discount_application.title | escape }}{% endfor %}"
                                    {% comment %} Discount items are difficult to predict - BOGOFs appear as a separate item with the same key as an existing item - simpler to always refresh {% endcomment %}
                            {%- if item.line_level_discount_allocations == empty -%}
                                data-merge-cache="{{ item.key }}|{{ item.quantity }}|{{ item.final_line_price }}|{% if item.selling_plan_allocation %}{{ item.selling_plan_allocation.selling_plan.id }}{% endif %}"
                                    {%- endif -%}>
                                {%- render 'cart-item', item: item, forloop: forloop, drawer: true -%}
                            </div>
                        {% endfor %}
                    </div>
                </div>

                {%- if section.settings.announcement_position == 'below-items' -%}
                    <div class="cart-drawer__content-item">
                        <div class="cart-info-block cart-info-block--lmtb">{{- announcement -}}</div>
                    </div>
                {%- endif -%}
            </div>

            <div data-merge="cross-sells" data-merge-cache="{% if cart.items == blank %}blank{% else %}{{ cart.items.first.product.id }}{% endif %}">
                {%- liquid
                    if section.settings.enable_cross_sells
                        if cart.items == empty
                            if section.settings.cross_sell_products != blank
                                assign cross_sell_product_list = true
                            endif
                        else
                            if section.settings.enable_automatic_cross_sells
                                assign cross_sell_auto = true
                            elsif section.settings.cross_sell_products != blank
                                assign cross_sell_product_list = true
                            endif
                        endif
                    endif
                -%}
                {%- if cross_sell_product_list or cross_sell_auto -%}
                    <div class="cart-item-upsells">
                        <cc-cart-cross-sell{% if cross_sell_auto %} data-from="{{ routes.product_recommendations_url }}?section_id=mini-related-products&limit=8&product_id={{ cart.items.first.product.id }}"{% endif %}>
                            <carousel-slider class="carousel block collection-slider cart-drawer__content-item use-color-scheme use-color-scheme--{{ section.settings.croll_sell_color_scheme }}">
                                <div class="opposing-items opposing-items--valign-base very-lightly-spaced-row">
                                    <div class="opposing-items__left product-info-label">
                                        {% if shop.locale == 'en' %}
                                            {{ section.settings.cross_sell_title | escape }}
                                        {% else %}
                                            {{ section.settings.cross_sell_title_fr | escape }}
                                        {% endif %}
                                    </div>
                                    <div class="no-wrap slider-nav">
                                        <button name="prev" class="slider-nav__btn has-ltr-icon">{% render 'icon-chevron-left' %}</button>
                                        <button name="next" class="slider-nav__btn has-ltr-icon">{% render 'icon-chevron-right' %}</button>
                                    </div>
                                </div>
                                <div class="slider slider--no-scrollbar slider--edge-peek">
                                    <ul class="slider__grid product-grid product-grid--carousel product-grid--per-row-2 product-grid--per-row-mob-2">
                                        {%- if cross_sell_product_list -%}
                                            {%- liquid
                                                if settings.prod_thumb_shape == 'portrait-23'
                                                    assign chosen_aspect_ratio = 0.67
                                                elsif settings.prod_thumb_shape == 'portrait-45'
                                                    assign chosen_aspect_ratio = 0.8
                                                elsif settings.prod_thumb_shape == 'square'
                                                    assign chosen_aspect_ratio = 1.0
                                                elsif settings.prod_thumb_shape == 'landscape-54'
                                                    assign chosen_aspect_ratio = 1.25
                                                elsif settings.prod_thumb_shape == 'landscape-32'
                                                    assign chosen_aspect_ratio = 1.50
                                                elsif settings.prod_thumb_shape == 'tallest'
                                                    assign chosen_aspect_ratio = 99
                                                    for product in section.settings.cross_sell_products
                                                        if product.featured_media.preview_image.aspect_ratio < chosen_aspect_ratio
                                                            assign chosen_aspect_ratio = product.featured_media.preview_image.aspect_ratio
                                                        endif
                                                    endfor
                                                else
                                                    assign chosen_aspect_ratio = 0
                                                    for product in section.settings.cross_sell_products
                                                        if product.featured_media.preview_image.aspect_ratio > chosen_aspect_ratio
                                                            assign chosen_aspect_ratio = product.featured_media.preview_image.aspect_ratio
                                                        endif
                                                    endfor
                                                endif
                                            -%}

                                            {%- for product in section.settings.cross_sell_products -%}
                                                <li class="slider__item">
                                                    {%- render 'product-block', product: product, manual_loading: true, no_quick_buy: true, no_swiping: true, custom_aspect_ratio: chosen_aspect_ratio -%}
                                                </li>
                                            {%- endfor -%}
                                        {%- endif -%}
                                    </ul>
                                </div>
                            </carousel-slider>
                            </cross-sell-products>
                    </div>
                {%- endif -%}
            </div>
        </div>

        <div class="cart-drawer__footer{% if cart.items == empty %} cart-drawer__footer--hidden{% endif %}" data-merge-attributes="footer-container">
            {%- if section.settings.announcement_position == 'above-subtotal' -%}
                <div class="cart-info-block cart-info-block--smb">{{- announcement -}}</div>
            {%- endif -%}

            <div data-merge="footer">
                {% if cart.items != empty %}


                    <div class="subtotal heading-font opposing-items">
                        {% if shop.locale == 'en' %}
                          Subtotal
                        {% else %}
                          Sous-total
                        {% endif %}
                        <span class="theme-money">
                            <span id="subtotal_value" style="margin-right:0.5rem;text-decoration: line-through;color:gray;font-weight:normal;"></span>
                            <span>{{- cart.original_total_price | money -}}</span>
                        </span>
                    </div>

                    <div class="subtotal heading-font opposing-items">
                      <div class="shipping-tooltip">
                        {% if shop.locale == 'en' %}
                          Shipping
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="font-weight:normal;fill:none;">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                          </svg>
                          <span class="tooltiptext">*$25 flat rate remains for orders shipped to British Columbia and New Brunswick.</span>
                        {% else %}
                          Livraison
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="font-weight:normal;fill:none;">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                          </svg>
                          <span class="tooltiptext">Le tarif fixe de 25 $ reste en vigueur pour les commandes expédiées en Colombie-Britannique et au Nouveau-Brunswick</span>                              
                        {% endif %}
                      </div>
                        <span class="">
                            <span id="shipping_discount" style="display:none;margin-right:0.5rem;text-decoration: line-through;color:gray;font-weight:normal;">{% if shop.locale == 'en' %} $8.95 {% else %} 8,95$ {% endif %}</span>
                            <span id="shipping_value"></span>
                        </span>
                    </div>              
              
                    {%- if cart.total_discount > 0 -%}
                    <div class="subtotal heading-font opposing-items">
                        {% if shop.locale == 'en' %}
                          Order discounts
                        {% else %}
                          Réduction sur la commande
                        {% endif %}
                        <span class="theme-money" style="color:green;">
                          -{{ cart.total_discount| money }}
                        </span>
                    </div>
                    {% endif %}
                

                  
                    <!-- <div class="subtotal heading-font opposing-items">
                        {% if shop.locale == 'en' %}
                          Order total
                        {% else %}
                          Total de la commande
                        {% endif %}
                        <span class="theme-money">
                          {%- if settings.cart_currency_code_enabled -%}
                              {{- cart.total_price | money_with_currency -}}
                          {%- else -%}
                              {{- cart.total_price | money -}}
                          {%- endif -%}
                        </span>
                    </div> -->

                    <div id="cart-footer-savings" style="display:none;align-items:center;justify-content:space-between;padding:0.5rem;background-color: rgb(221, 255, 220) !important;margin-bottom:1rem;font-weight: bold;">
                      <div class="h4">{% if shop.locale == 'en' %}Your savings{% else %} Vos économies {% endif %}</div>
                      <div class="h4" id="cart-footer-savings_value"></div>
                    </div>                  

                    <div class="lightly-spaced-row">
                        {%- if section.settings.show_tax_and_shipping -%}
                            <div class="cart-policies rte">
                                {%- if cart.taxes_included and shop.shipping_policy.body != blank -%}
                                    {{- 'cart.general.taxes_included_shipping_at_checkout_html' | t: link: shop.shipping_policy.url -}}
                                {%- elsif cart.taxes_included -%}
                                    {{- 'cart.general.taxes_included_shipping_at_checkout' | t -}}
                                {%- elsif shop.shipping_policy.body != blank -%}
                                    {{- 'cart.general.taxes_and_shipping_at_checkout_html' | t: link: shop.shipping_policy.url -}}
                                {%- else -%}
                                    {{- 'cart.general.taxes_and_shipping_at_checkout' | t -}}
                                {%- endif -%}
                            </div>
                        {%- endif -%}

                        {% if section.settings.show_order_note %}
                            <toggle-target id="CartDrawerNoteToggle" role="button" tabindex="0" class="toggle-target-toggler--is-hidden link underline" data-toggle-target=".cart-drawer__note">{{ 'cart.note.label' | t }}</toggle-target>
                            <div class="cart-drawer__note toggle-target toggle-target--hidden">
                                <cart-note class="block toggle-target-container">
                                    <textarea name="note" aria-labelledby="CartDrawerNoteToggle">{{ cart.note }}</textarea>
                                </cart-note>
                            </div>
                        {% endif %}
                    </div>
                {% endif %}
            </div>

            {% if section.settings.cart_terms_page != blank %}
                <terms-agreement class="terms-agreement rte">
                    <input type="checkbox" id="terms" />
                    <label for="terms">{{ 'cart.terms.agreement_html' | t: terms_url: section.settings.cart_terms_page }}</label>
                </terms-agreement>
            {% endif %}

            <div class="checkout-buttons{% if cart.items == empty %} hidden{% endif %}" data-merge-attributes="checkout-buttons">
                {% if section.settings.enable_direct_cart %}
                    <a href="{{ routes.root_url | append: '/checkout' | replace: '//', '/' }}" class="btn btn--large btn--wide">{{ 'cart.summary.checkout' | t }}</a>
                {% else %}
                    <a href="{{ routes.cart_url }}" class="btn btn--large btn--wide">{{ 'cart.summary.checkout' | t }}</a>
                {% endif %}
            </div>

            {%- if section.settings.announcement_position == 'below-checkout' -%}
                <div class="cart-info-block cart-info-block--smt">{{- announcement -}}</div>
            {%- endif -%}
        </div>

        <div
                class="cart-drawer__empty-content{% if section.settings.empty_enable_custom_colors %} cart-drawer__empty-content--custom-colors{% endif %}{% if cart.items != empty %} cart-drawer__empty-content--hidden{% endif %}"
                data-merge-attributes="empty-container"
        {% if section.settings.empty_enable_custom_colors %}
            style="--bg: {{ section.settings.empty_color_background_gradient | default: section.settings.empty_color_background }};
                    --text: {{ section.settings.empty_color_text }};
                    --text-dim: {{ section.settings.empty_color_text | color_modify: 'alpha', 0.4 }}"
                {% endif %}>
            <button type="button" class="drawer__close-btn js-close-drawer">
                <span class="visually-hidden">{{ 'accessibility.close' | t }}</span>
                {% render 'icon-close' %}
            </button>
            <div class="align-center">
                {%- if section.settings.empty_icon == 'basket' -%}
                    <div class="lightly-spaced-row"><span class="icon--large">{%- render 'icon-basket' -%}</span></div>
                {%- elsif section.settings.empty_icon == 'bag' -%}
                    <div class="lightly-spaced-row"><span class="icon--large">{%- render 'icon-bag' -%}</span></div>
                {%- elsif section.settings.empty_icon == 'cart' -%}
                    <div class="lightly-spaced-row"><span class="icon--large">{%- render 'icon-cart' -%}</span></div>
                {%- endif -%}

                {%- if section.settings.empty_heading != blank -%}
                    <div class="majortitle h1">
                        {% if shop.locale == 'en' %}
                            {{ section.settings.empty_heading }}
                        {% else %}
                            {{ section.settings.empty_heading_fr }}
                        {% endif %}
                    </div>
                {%- endif -%}

                {%- if section.settings.empty_text != blank -%}
                    <div class="rte">
                        {% if shop.locale == 'en' %}
                            {{ section.settings.empty_text }}
                        {% else %}
                            {{ section.settings.empty_text_fr }}
                        {% endif %}
                    </div>
                {%- endif -%}

                {%- if section.settings.empty_button_text != blank -%}
                    <div class="button-row">
                        <a class="{% if section.settings.empty_button_style != 'link' %}btn btn--{{ section.settings.empty_button_style }}{% else %}small-feature-link{% endif %} button-row__btn" href="{{ section.settings.empty_button_link }}">
                            {% if shop.locale == 'en' %}
                                {{ section.settings.empty_button_text | escape }}
                            {% else %}
                                {{ section.settings.empty_button_text_fr | escape }}
                            {% endif %}
                        </a>
                    </div>
                {%- endif -%}
            </div>
        </div>
    </cart-form>
</cart-drawer>

<script>
      $(document).ready(async function(){
        await setCartDrawerSavings();
      });

      document.addEventListener('on:cart:after-merge', async (event) => {
        await setCartDrawerSavings();
      });

      const setCartDrawerSavings = async () => {
        const language = '{{ shop.locale }}';
        $("#cart-footer-savings").css('display','none');
        $("#shipping_discount").hide();
        try {
          const cartResponse = await fetch('https://www.yellowshoes.com/cart.json');
          const cartData = await cartResponse.json();
          console.log(cartData);
      
          let savings = {
            amount: cartData.total_discount / 100
          };
      
          for (const item of cartData.items) {
            console.log(item);
            const variant_id = item.variant_id;
      
            try {
              const itemResponse = await fetch(`https://www.yellowshoes.com/products/${item.handle}.json`);
              const itemData = await itemResponse.json();
              console.log(itemData);
      
              const variant = itemData.product.variants.find(v => v.id == variant_id);
              console.log(variant);
      
              if (variant && variant.compare_at_price) {
                const compare_at_price = Number(variant.compare_at_price);
                const variant_price = Number(variant.price);
      
                if (compare_at_price !== 0 && variant_price < compare_at_price) {
                  const saving = compare_at_price - variant_price;
                  savings.amount += saving * item.quantity;
                }
              }
            } catch (err) {
              console.error(`Failed to fetch or process product data for ${item.handle}:`, err);
            }
          }
          $("#shipping_value").html(language == 'en' ? '$8.95' : '8,95$');
          $("#shipping_value").css('color','black');
          //Free shipping
          {% if section.settings.show_progressbar and is_tier_1_free_shipping %}
            {% assign tier_1_value_in_cents = tier_1_value | times: 100 %}
            console.log('original_total_price',cartData.original_total_price)
            console.log('tier_1_value_in_cents',{{ tier_1_value_in_cents }})
            if(cartData.original_total_price > {{ tier_1_value_in_cents }}){
              savings.amount += 8.95
              $("#shipping_discount").show();
              $("#shipping_value").html(language == 'en' ? 'Free' : 'Gratuit');
              $("#shipping_value").css('color','green');
            }
          {% endif %}

          if(savings.amount > 0){
             $("#cart-footer-savings").css('display','flex');
             $("#cart-footer-savings_value").html(language == 'en' ? '$'+savings.amount.toFixed(2) : savings.amount.toFixed(2).replace('.',',')+'$');
             //let original_value = (cartData.total_price / 100) + savings.amount;
              let original_value = (cartData.original_total_price / 100);
            {% if section.settings.show_progressbar %}
              // if(cartData.original_total_price > 7500){
              //   original_value -= 8.95
              // }
            {% endif %}
            // alert(savings)
            // alert(original_value)
            // alert(cartData.total_price / 100)
            if(original_value.toFixed(2) != (cartData.total_price / 100).toFixed(2)){
             //$("#subtotal_value").html(language == 'en' ? '$'+cartData.toFixed(2) : original_value.toFixed(2).replace('.',',')+'$') 
            }
             
          }
      
          console.log('Savings', savings.amount);
        } catch (err) {
          console.error('Failed to fetch cart data:', err);
        }
      };
</script>
                                                          
    {%- endunless -%}


    {% schema %}
    {
      "name": "Cart drawer",
      "class": "section-cart-drawer",
      "settings": [       
        {
          "type": "checkbox",
          "id": "show_order_note",
          "label": "Show order note",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_tax_and_shipping",
          "label": "Show tax status and shipping policy link",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "enable_direct_cart",
          "label": "Enable direct checkout",
          "info": "Disable to send customers to the cart page",
          "default": true
        },
        {
          "type": "url",
          "id": "cart_terms_page",
          "label": "Terms and Conditions link",
          "info": "Checkbox only required if direct checkout is enabled"
        },
        {
          "type": "checkbox",
          "id": "show_backorder_text",
          "label": "Show backorder text",
          "default": false,
          "info": "Only shows for products which use inventory tracking and are available to purchase when out of stock."
        },
        {
          "type": "header",
          "content": "Inventory notice"
        },
        {
          "type": "select",
          "id": "show_inventory_notice",
          "label": "Show inventory notice",
          "options": [
            {
              "label": "Never",
              "value": "never"
            },
            {
              "label": "When inventory low",
              "value": "low"
            },
            {
              "label": "Always",
              "value": "always"
            }
          ],
          "default": "low"
        },
        {
          "type": "select",
          "id": "show_inventory_count",
          "label": "Show count in inventory notice",
          "options": [
            {
              "label": "Never",
              "value": "never"
            },
            {
              "label": "When inventory low",
              "value": "low"
            },
            {
              "label": "Always",
              "value": "always"
            }
          ],
          "default": "low"
        },
        {
          "type": "range",
          "id": "inventory_threshold",
          "min": 1,
          "max": 100,
          "step": 1,
          "label": "Low inventory threshold",
          "default": 10
        },
        {
          "type": "header",
          "content": "Announcement"
        },
        {
          "type": "checkbox",
          "id": "show_announcement",
          "label": "Show announcement",
          "default": false
        },
        {
          "type": "select",
          "id": "announcement_position",
          "label": "Position",
          "options": [
            {
              "label": "Above cart items",
              "value": "above-items"
            },
            {
              "label": "Below cart items",
              "value": "below-items"
            },
            {
              "label": "Above subtotal",
              "value": "above-subtotal"
            },
            {
              "label": "Below checkout button",
              "value": "below-checkout"
            }
          ],
          "default": "above-items"
        },
        {
          "type": "inline_richtext",
          "id": "announcement_text",
          "label": "Text",
          "default": "Cart announcement text"
        },
        {
          "type": "select",
          "id": "announcement_icon",
          "label": "Icon",
          "default": "box",
          "options": [
            {
              "value": "",
              "label": "No icon"
            },
            {
              "value": "award",
              "label": "Award"
            },
            {
              "value": "box",
              "label": "Box"
            },
            {
              "value": "briefcase",
              "label": "Briefcase"
            },
            {
              "value": "calendar",
              "label": "Calendar"
            },
            {
              "value": "chat_bubble",
              "label": "Chat bubble"
            },
            {
              "value": "check_mark",
              "label": "Check mark"
            },
            {
              "value": "check_mark_in_circle",
              "label": "Check mark in circle"
            },
            {
              "value": "clock",
              "label": "Clock"
            },
            {
              "value": "credit_card",
              "label": "Credit card"
            },
            {
              "value": "dollar_sign",
              "label": "Dollar sign"
            },
            {
              "value": "dryer",
              "label": "Dryer"
            },
            {
              "value": "eye",
              "label": "Eye"
            },
            {
              "value": "feather",
              "label": "Feather"
            },
            {
              "value": "gift",
              "label": "Gift"
            },
            {
              "value": "heart",
              "label": "Heart"
            },
            {
              "value": "iron",
              "label": "Iron"
            },
            {
              "value": "leaf",
              "label": "Leaf"
            },
            {
              "value": "leather",
              "label": "Leather"
            },
            {
              "value": "lock",
              "label": "Lock"
            },
            {
              "value": "map_pin",
              "label": "Map pin"
            },
            {
              "value": "pants",
              "label": "Pants"
            },
            {
              "value": "percent",
              "label": "Percent"
            },
            {
              "value": "plane",
              "label": "Plane"
            },
            {
              "value": "price_tag",
              "label": "Price tag"
            },
            {
              "value": "question_mark",
              "label": "Question mark"
            },
            {
              "value": "return",
              "label": "Return"
            },
            {
              "value": "ruler",
              "label": "Ruler"
            },
            {
              "value": "scissors",
              "label": "Scissors"
            },
            {
              "value": "shirt",
              "label": "Shirt"
            },
            {
              "value": "shoe",
              "label": "Shoe"
            },
            {
              "value": "silhouette",
              "label": "Silhouette"
            },
            {
              "value": "star",
              "label": "Star"
            },
            {
              "value": "truck",
              "label": "Truck"
            },
            {
              "value": "washing",
              "label": "Washing"
            }
          ]
        },
        {
          "type": "image_picker",
          "id": "announcement_custom_icon",
          "label": "Custom icon"
        },
        {
          "type": "select",
          "id": "announcement_icon_size",
          "label": "Icon size",
          "default": "small",
          "options": [
            {
              "value": "small",
              "label": "Small"
            },
            {
              "value": "large",
              "label": "Large"
            }
          ]
        },
        {
          "type": "checkbox",
          "id": "announcement_enable_box",
          "label": "Enable box style",
          "default": true
        },
        {
          "type": "color",
          "id": "announcement_box_color",
          "label": "Box color",
          "info": "Suggestions: Blue #e5f3ff, Teal #e0f5f5, Green #e0f4d5, Yellow #fcf1cd, Red #fbeae5",
          "default": "#e0f4d5"
        },
        {
          "type": "header",
          "content": "Empty cart"
        },
        {
          "type": "select",
          "id": "empty_icon",
          "label": "Icon",
          "default": "basket",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "bag",
              "label": "Bag"
            },
            {
              "value": "basket",
              "label": "Basket"
            },
            {
              "value": "cart",
              "label": "Cart"
            }
          ]
        },
        {
          "type": "text",
          "id": "empty_heading",
          "label": "Heading",
          "default": "Your cart is empty"
        },
        {
          "type": "text",
          "id": "empty_heading_fr",
          "label": "Heading (FR)"
        },
        {
          "type": "richtext",
          "id": "empty_text",
          "label": "Text"
        },
        {
          "type": "richtext",
          "id": "empty_text_fr",
          "label": "Text (FR)"
        },
        {
          "type": "text",
          "id": "empty_button_text",
          "label": "Button text",
          "default": "Start shopping"
        },
        {
          "type": "text",
          "id": "empty_button_text_fr",
          "label": "Button text (FR)"
        },
        {
          "type": "url",
          "id": "empty_button_link",
          "label": "Button link",
          "default": "/collections/all"
        },
        {
          "type": "select",
          "id": "empty_button_style",
          "label": "Button style",
          "default": "primary",
          "options": [
            {
              "label": "Primary",
              "value": "primary"
            },
            {
              "label": "Secondary",
              "value": "secondary"
            },
            {
              "label": "Link",
              "value": "link"
            }
          ]
        },
        {
          "type": "checkbox",
          "id": "empty_enable_custom_colors",
          "label": "Enable custom colors",
          "default": false
        },
        {
          "type": "color",
          "id": "empty_color_background",
          "label": "Background"
        },
        {
          "type": "color_background",
          "id": "empty_color_background_gradient",
          "label": "Background gradient"
        },
        {
          "type": "color",
          "id": "empty_color_text",
          "label": "Text"
        },
        {
          "type": "header",
          "content": "Recommended products"
        },
        {
          "type": "checkbox",
          "id": "enable_cross_sells",
          "label": "Show recommended products",
          "default": true
        },
        {
          "type": "text",
          "id": "cross_sell_title",
          "label": "Heading",
          "default": "You may like"
        },
        {
          "type": "text",
          "id": "cross_sell_title_fr",
          "label": "Heading (FR)"
        },
        {
          "type": "product_list",
          "id": "cross_sell_products",
          "label": "Products"
        },
        {
          "type": "checkbox",
          "id": "enable_automatic_cross_sells",
          "label": "Enable automatic recommendations",
          "info": "Displays products related to the first item in the cart, replacing the recommended products above.",
          "default": true
        },
        {
          "type": "paragraph",
          "content": "Dynamic recommendations change and improve with time. [Learn more](https://help.shopify.com/en/themes/development/recommended-products)"
        },
        {
          "type": "select",
          "id": "croll_sell_color_scheme",
          "label": "Color scheme",
          "default": "1",
          "options": [
            {
              "value": "default",
              "label": "Default"
            },
            {
              "value": "1",
              "label": "1"
            },
            {
              "value": "2",
              "label": "2"
            }
          ]
        },
        {
          "type": "header",
          "content": "Progress bar"
        }, 
        {
          "type": "checkbox",
          "id": "show_progressbar",
          "label": "Show progress",
          "default": false
        },                  
        {
          "type":"select",
          "id":"progress_bar_nb_tier",
          "label":"Number of tier",
          "default":"1",
          "options":[
            {
              "value":"1",
              "label":"1"
            },
            {
              "value":"2",
              "label":"2"
            },
            {
              "value":"3",
              "label":"3"
            }
          ]
        },
        {
          "type":"select",
          "id":"tier_type",
          "label":"Tier Type",
          "default":"money",
          "options":[
            {
              "value":"money",
              "label":"Monetary"
            },
            {
              "value":"quantity",
              "label":"Quantity"
            }
          ]
        }, 
        {
          "type":"select",
          "id":"tier_reward_type",
          "label":"Tier Reward Type",
          "default":"amount",
          "options":[
            {
              "value":"amount",
              "label":"Amount $"
            },
            {
              "value":"percent",
              "label":"Percent %"
            }
          ]
        },                
        {
          "type":"text",
          "id":"tier_1_reward_text",
          "label":"Tier 1 Reward Text",
          "default":"Free shipping"
        },
        {
          "type":"text",
          "id":"tier_1_reward_text_fr",
          "label":"Tier 1 Reward Text (FR)",
          "default":"Livraison gratuite"
        },        
        {
          "type":"number",
          "id":"tier_1_value",
          "label":"Tier 1 Value",
        }, 
        {
          "type":"number",
          "id":"tier_1_reward_value",
          "label":"Tier 1 Reward Value",
        },
        {
          "type":"checkbox",
          "id":"tier_1_free_shipping",
          "label":"is Free Shipping?"
        },
        {
          "type":"text",
          "id":"tier_2_reward_text",
          "label":"Tier 2 Reward Text",
          "default":"Free shipping"
        },
        {
          "type":"text",
          "id":"tier_2_reward_text_fr",
          "label":"Tier 2 Reward Text (FR)",
          "default":"Livraison gratuite"
        },          
        {
          "type":"number",
          "id":"tier_2_value",
          "label":"Tier 2 Value",
        },
        {
          "type":"number",
          "id":"tier_2_reward_value",
          "label":"Tier 2 Reward Value",
        },
        {
          "type":"text",
          "id":"tier_3_reward_text",
          "label":"Tier 3 Reward Text",
          "default":"Free shipping"
        },
        {
          "type":"text",
          "id":"tier_3_reward_text_fr",
          "label":"Tier 3 Reward Text (FR)",
          "default":"Livraison gratuite"
        },        
        {
          "type":"number",
          "id":"tier_3_value",
          "label":"Tier 3 Value",
        },  
        {
          "type":"number",
          "id":"tier_3_reward_value",
          "label":"Tier 3 Reward Value",
        },                      
      ]
    }
    {% endschema %}
